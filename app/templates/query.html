{% extends "base.html" %}

{% block content %}

    <div class="container">

        <div class="page-header">
            <h1>Query</h1>
        </div>

        <p class="lead">Launch a query on HmtPhenome starting from variants, genes, phenotypes or diseases.</p>

        <form action="/query" method="post" name="mainQuery" enctype="multipart/form-data">

            <div class="container">
            <div class="row">

                <div class="col-sm-12">

                    {% with messages = get_flashed_messages() %}

                        {% if messages %}
                            <div class="alert alert-danger alert-dismissable">
                                <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
                                <ul class="flashes"></ul>
                                {% for message in messages %}

                                    <li>{{ message }}</li>

                                {% endfor %}
                            </div>
                        {% endif %}

                    {% endwith %}

                <div class="panel panel-warning">

                    <div class="panel-heading">
                        <h4>Entry point</h4>
                    </div>

                    <div class="panel-body">
                        <table class="table">

                        <thead>
                            <tr>
                                <th>Entity</th>
                                <th>Values</th>
{#                                <th style="min-width: 15em;">Search Criteria</th>#}
{#                                <th>Description</th>#}
{#                                <th style="min-width: 20em;">Values</th>#}
                            </tr>
                        </thead>

                        <tbody>

                            {# Group #}
                            <div class="form-group">
                            <tr>
                                <td style="padding-left: 30px;">
                                    <label class="radio">
                                        <input type="radio" name="entity" value="variant" checked>Variants
                                    </label>
                                </td>
                                <td><div class="form-group row">
                                    <div class="col-sm-3">Insert a variant:</div>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control" name="variant_input" id="variant_input">
                                    </div>
                                </div></td>
                            </tr>

                            <tr>
                                <td style="padding-left: 30px;">
                                    <label class="radio">
                                        <input type="radio" name="entity" value="gene">Genes
                                    </label>
                                </td>
                                <td><div class="form-group row">
                                    <div class="col-sm-3">Select a gene:</div>
                                    <div class="col-sm-3">
                                        <select class="form-control" name="gene_chr" id="gene_chr">
                                            <option value="1">chr1</option>
                                            <option value="2">chr2</option>
                                            <option value="3">chr3</option>
                                            <option value="4">chr4</option>
                                            <option value="5">chr5</option>
                                            <option value="6">chr6</option>
                                            <option value="7">chr7</option>
                                            <option value="8">chr8</option>
                                            <option value="9">chr9</option>
                                            <option value="10">chr10</option>
                                            <option value="11">chr11</option>
                                            <option value="12">chr12</option>
                                            <option value="13">chr13</option>
                                            <option value="14">chr14</option>
                                            <option value="15">chr15</option>
                                            <option value="16">chr16</option>
                                            <option value="17">chr17</option>
                                            <option value="18">chr18</option>
                                            <option value="19">chr19</option>
                                            <option value="20">chr20</option>
                                            <option value="21">chr21</option>
                                            <option value="22">chr22</option>
                                            <option value="X">chrX</option>
                                            <option value="M">chrM</option>
                                        </select>
                                    </div>
                                    <div class="col-sm-6">
{#                                      TODO: qui bisogna mettere qualcosa che prenda la lista dei geni dal db sulla base del chr scelto  #}
                                        <select class="form-control" name="gene_input" id="gene_input">
                                            <option value="ATP6">ATP6</option>
                                            <option value="ATP8">ATP8</option>
                                            <option value="COX1">COX1</option>
                                            <option value="COX2">COX2</option>
                                            <option value="COX3">COX3</option>
                                        </select>
                                    </div>
                                </div></td>
                            </tr>

                            <tr>
                                <td style="padding-left: 30px;">
                                    <label class="radio">
                                        <input type="radio" name="entity" value="pheno">Phenotypes
                                    </label>
                                </td>
                                <td><div class="form-group row">
                                    <div class="col-sm-3">Select a phenotype:</div>
                                    <div class="col-sm-9">
{#                                      TODO: come rendere la lista dei fenotipi?  #}
                                        <select class="form-control" name="pheno_input" id="pheno_input">
                                            <option value="0002013">HP:0002013 - Vomiting</option>
                                            <option value="0002014">HP:0002014 - Diarrhea</option>
                                            <option value="0000921">HP:0000921 - Missing ribs</option>
                                            <option value="0000028">HP:0000028 - Cryptorchidism</option>
                                        </select>
                                    </div>
                                </div></td>
                            </tr>

                            <tr>
                                <td style="padding-left: 30px;">
                                    <label class="radio">
                                        <input type="radio" name="entity" value="disease">Diseases
                                    </label>
                                </td>
                                <td><div class="form-group row">
                                    <div class="col-sm-3">Select a disease:</div>
                                    <div class="col-sm-9">
{#                                      TODO: come rendere la lista dei disease?  #}
                                        <select class="form-control" name="disease_input" id="disease_input">
                                            <option value="ORPHA:1775">ORPHA:1775 - Dyskeratosis congenita</option>
                                            <option value="ORPHA:2704">ORPHA:2704 - Ochoa syndrome</option>
                                            <option value="ORPHA:95">ORPHA:95 - Friedreich ataxia</option>
                                            <option value="OMIM:102000">OMIM:102000 - ACROLEUKOPATHY, SYMMETRIC</option>
                                        </select>
                                    </div>
                                </div></td>
                            </tr>
                            </div>

                        </tbody>

                        </table>
                    </div>

                </div>
                </div>

            </div>

            </div>

            <div class="container">
            <div class="row">
                <div class="col-sm-4">&nbsp;</div>
                <div class="col-sm-2 center">
                    <button type="reset" class="btn btn-warning btn-lg">Reset</button>
                </div>
                <div class="col-sm-2 center">
                    <button type="submit" class="btn btn-warning btn-lg">Launch Query</button>
                </div>
                <div class="col-sm-4">&nbsp;</div>
            </div>
            </div>

        </form>

    </div>

    {{ super() }}
{% endblock %}
